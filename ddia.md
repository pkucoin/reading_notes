# 第一章 可靠性、可扩展性和可维护性

## 可靠性（Reliability）
- 系统在出现故障（fault）时仍然能正确完成功能的性能水平
- 故障通常是指系统的一部分偏离标准，而失效（failure）是系统整体停止服务
- 故障总会出错，故容错（fault-tolerant）的目标是防止因故障导致失效
- 故障的种类
  - 硬件故障。例如单块硬盘MTTF约10~50年。硬件故障通常是随机且相互独立的。应对：增加冗余
  - 软件错误。系统性错误，更容易关联从而导致系统失效。应对：测试；进程隔离，允许崩溃后重启；监控
  - 人为错误。应对：容易犯错的地方解耦；corner case测试；可以从人为错误中快速恢复；监控

## 可扩展性（Scalability）
- 系统应对负载增长的性能水平
- 使用负载参数，例如qps、读写次数、dau、cache命中率等等，来描述系统负载
  - Twitter的例子中，负载挑战来自于关注大量人/被大量人关注的用户
  - 使用push/pull混合策略来降低负载：对于粉丝量较少的人push其推文给粉丝；对于粉丝量巨大的人在粉丝上线时pull
- 使用性能参数，例如吞吐量、延迟/响应时间等等，来描述性能
  - 通常使用响应时间的百分点位来定义SLO/SLA中的预期性能/可用性
- 应对负载的方法
  - 纵向/垂直扩展：转向更强大的机器。代价是更贵
  - 横向/水平扩展：负载分布到更多机器。代价是有状态的数据系统从单节点变为分布式时会引入额外复杂度
  
## 可维护性（Maintainability）
- 系统让不同的人在不同的时期都能高效地在该系统上工作，使得系统正确工作并适应变化的水平
- 可操作性：让运维团队的日常工作可以更轻松。良好的监控/自动化

# 第二章 数据模型与查询语言
